---
name: baby-naming
description: "中华传统婴儿取名专家。根据婴儿的生辰八字（出生年月日时）、性别和姓氏，结合阴阳五行理论和中华传统文化，推荐寓意美好、五行匹配的名字，或评估已有名字的优劣。Use when users request: (1) naming a newborn baby based on Chinese astrology, (2) analyzing name compatibility with birth date and time (八字), (3) suggesting names that balance the five elements (五行), (4) creating names with cultural and poetic significance, (5) evaluating an existing name's quality and compatibility."
---

# 婴儿取名技能

本技能基于中华传统文化和阴阳五行理论，为新生婴儿提供专业的取名建议，同时也可以评估已有名字的优劣。

## 核心功能

1. **生成推荐名字**：根据八字、性别、姓氏推荐5-10个名字
2. **评估已有名字**：分析已有名字与八字的匹配度并打分

## 依赖项

八字计算脚本使用 `lunar_python` 库以确保计算准确性：

```bash
pip install lunar-python
```

**注意**：如果未安装此库，脚本会自动使用简化算法，但推荐安装以获得最准确的八字计算结果。

## 使用场景选择

### 场景一：生成推荐名字

用户需要为婴儿起名，提供八字、性别、姓氏信息。

### 场景二：评估已有名字

用户已经有了一个或多个候选名字，需要评估这些名字与婴儿八字的匹配度。

## 工作流程

### A. 生成推荐名字流程

### 1. 收集必要信息

向用户收集以下信息（如果用户没有提供）：
- **姓氏**：婴儿的姓
- **性别**：男孩或女孩
- **出生时间**：公历年、月、日、时（需要精确到小时）
  - 格式示例：2026年1月15日 14:00

### 2. 计算八字和五行

使用 `scripts/bazi_calculator.py` 计算婴儿的八字和五行属性：

```bash
python scripts/bazi_calculator.py <年> <月> <日> <时> --json
```

示例：
```bash
python scripts/bazi_calculator.py 2026 1 15 14 --json
```

脚本输出包含：
- **八字**：年柱、月柱、日柱、时柱
- **纳音**：年柱纳音及其五行属性（如：海中金 - 金）
- **五行统计**：木、火、土、金、水的数量
- **五行分析**：缺失、偏弱、偏强的五行
- **日主**：日干的五行属性

**技术说明**：
- 优先使用 `lunar_python` 库进行精确计算
- 如果库不可用，自动降级到简化算法
- `lunar_python` 提供最准确的八字计算，特别是月柱和日柱

### 3. 参考取名知识库

阅读 `references/naming_knowledge.md` 了解：
- 五行相生相克原理
- **汉字五行推导方法**（部首、字义、音韵三种方法）
- 常用字示例（**仅供参考，不限于此**）
- 取名的文化内涵和音韵原则
- 评分标准

**重要提示**：
- 知识库中的常用字列表只是示例，**不应局限于此**
- 应根据五行推导方法判断任意汉字的五行属性
- 鼓励创造性取名，综合考虑字义、音韵、字形等多方面

### 4. 生成名字推荐

基于八字分析结果，推荐5-10个名字。每个名字需包含：

**必需要素：**
1. **完整名字**：姓+名（2字或3字）
2. **评分**：基于五行匹配、文化内涵、音韵美感等维度，总分100分
3. **五行属性**：标注名字中每个字的五行
4. **寓意解释**：说明名字的含义和文化出处
5. **推荐理由**：简要说明为何推荐此名（五行匹配度、寓意等）

### 5. 取名原则

**⚠️ 核心原则：日主强弱优先于补缺原则**

#### 第一步：判断日主强弱

**日主（日干）** 代表命主本人，是八字中最核心的元素。取名必须首先判断日主的强弱：

**日主偏强的情况：**
- 日主本身数量多（如金日主，八字中金多）
- 有大量生扶日主的五行（如金日主，土多则土生金）
- 判断标准：生扶日主的五行总数 > 耗泄克日主的五行总数

**日主偏弱的情况：**
- 日主本身数量少
- 缺少生扶日主的五行
- 耗泄克日主的五行较多
- 判断标准：生扶日主的五行总数 < 耗泄克日主的五行总数

**日主适中的情况：**
- 生扶与耗泄基本平衡

#### 第二步：确定取名策略

**五行平衡的正确顺序：**

1. **首要原则：不能过度耗泄日主**
   - 如果日主偏弱或适中，避免用"日主生的五行"（会耗泄日主）
   - 例：金日主偏弱时，避免大量用水（金生水会耗泄金）

2. **补缺原则的正确应用：**
   - **日主偏强**：可以用日主生的五行来补缺（既补缺又泄日主）
     * 例：金日主偏强，缺水，可用水（金生水，泄强金）
   - **日主偏弱/适中**：优先用以下组合补缺：
     * **组合策略一**：缺失五行 + 生日主的五行（补缺且护日主）
       - 例：金日主缺水，用「水+土」组合（补水，土生金护日主）
     * **组合策略二**：缺失五行 + 日主同类五行（补缺且帮日主）
       - 例：金日主缺水，用「水+金」组合（补水，金帮金）
     * **组合策略三**：单个缺失五行字 + 中性字（适度补缺）
       - 例：金日主缺水，用「水+中性字」，不过度

3. **加强偏弱的五行：**
   - 同样要考虑对日主的影响
   - 如果偏弱的五行恰好是日主或生日主，可以加强
   - 如果偏弱的五行会耗泄日主，需要谨慎

4. **纳音辅助**：考虑年柱纳音五行，若名字五行与纳音五行和谐（相生或比和），可额外加分

**❌ 错误示例：**
- 金日主适中，缺水，用「双水」名字 → 金生水过度耗泄日主 ❌

**✅ 正确示例：**
- 金日主适中，缺水，用「水+土」名字 → 补水的同时土生金护日主 ✅
- 金日主偏强，缺水，可用「双水」名字 → 补缺的同时泄强金 ✅

**文化内涵：**
- 使用有美好寓意的字
- 可引用诗词典故增加文化底蕴
- 体现品德、智慧、美好等正面特质

**音韵美感：**
- 注意平仄搭配，读起来朗朗上口
- 避免不良谐音
- 声调有起伏变化

**性别特征：**
- 男孩名字体现阳刚、大气、志向
- 女孩名字体现温柔、优雅、美丽

**实用性：**
- 避免生僻字
- 笔画适中，方便书写
- 字形结构美观

### 6. 输出格式

推荐名字应按评分从高到低排序，使用清晰的格式：

```
## 推荐名字

### 1. 【姓名】（XX分）

**五行：** 字1（五行1）+ 字2（五行2）
**寓意：** [说明名字的含义和美好寓意]
**出处：** [诗词典故或文化来源]
**推荐理由：** [为何推荐，五行如何匹配，其他优点]

### 2. 【姓名】（XX分）
...
```

### B. 评估已有名字流程

#### 1. 收集信息

向用户收集：
- **完整姓名**：需要评估的名字（姓+名）
- **性别**：男孩或女孩
- **出生时间**：公历年、月、日、时（或直接提供八字）

#### 2. 计算或确认八字

如果用户提供出生时间，使用 `scripts/bazi_calculator.py` 计算八字。
如果用户直接提供八字，确认接收。

#### 3. 分析名字

对提供的名字进行全面分析：

**步骤 1：确定每个字的五行属性**
- 查阅 `references/naming_knowledge.md` 中的常用字五行表
- 确定名字中每个字的五行属性
- 如果字不在列表中，可根据字的部首和字义推断

**步骤 2：评估五行匹配度（30分 + 纳音加分最高5分）**
- 分析名字五行与八字的匹配度（30分）
- 是否补充了缺失的五行
- 是否加强了偏弱的五行
- **纳音加分**：名字五行与年柱纳音五行的关系（最高5分）
  - 相生关系：+5分
  - 比和关系：+3分
  - 其他关系：0分
- 是否避免了加强过旺的五行
- 五行相生相克关系是否合理

评分参考：
- 完全匹配八字需求：28-30分
- 较好匹配：24-27分
- 基本匹配：20-23分
- 匹配度一般：15-19分
- 匹配度较差：10-14分
- 不匹配：0-9分

**步骤 3：评估文化内涵（25分）**
- 名字的寓意是否美好
- 是否有诗词典故出处
- 是否体现美好品德
- 文化底蕴深度

评分参考：
- 有深厚文化出处，寓意极佳：23-25分
- 寓意美好，有一定文化内涵：19-22分
- 寓意正面，基本可用：15-18分
- 寓意一般：10-14分
- 寓意欠佳：0-9分

**步骤 4：评估音韵美感（20分）**
- 姓名的声调搭配
- 是否有不良谐音
- 读音是否流畅顺口
- 平仄是否协调

评分参考：
- 音韵优美，无不良谐音：18-20分
- 读音顺畅：15-17分
- 基本可接受：12-14分
- 音韵一般：8-11分
- 有不良谐音：0-7分

**步骤 5：评估字形结构（15分）**
- 笔画是否适中
- 字形是否美观
- 是否有生僻字
- 书写是否方便

评分参考：
- 字形优美，书写便利：13-15分
- 字形协调：10-12分
- 基本可用：8-9分
- 字形欠佳或有生僻字：0-7分

**步骤 6：评估性别特征（10分）**
- 名字是否符合性别特征
- 男孩是否体现阳刚、志向
- 女孩是否体现温柔、优雅

评分参考：
- 完全符合性别特征：9-10分
- 基本符合：7-8分
- 中性可用：5-6分
- 不太符合：0-4分

#### 4. 输出评估结果

使用清晰的格式输出评估报告：

```
## 名字评估报告

### 基本信息
- **姓名**：[完整姓名]
- **性别**：[男/女]
- **八字**：[年柱 月柱 日柱 时柱]
- **年柱纳音**：[纳音名称]（[五行]）
- **日主**：[五行]
- **五行状况**：[缺失/偏弱/偏强情况]

### 名字分析
- **名字五行**：[字1]（[五行]）+ [字2]（[五行]）
- **五行关系**：[分析与八字的五行关系]
- **纳音关系**：[分析名字五行与年柱纳音五行的关系]

### 综合评分：XX / 100 分（含纳音加分）

#### 详细评分

**1. 五行匹配度：XX / 30 分**
[详细说明名字五行与八字的匹配情况]

**纳音加分：+X / 5 分**
[说明名字五行与年柱纳音五行的关系：相生+5分，比和+3分]

**2. 文化内涵：XX / 25 分**
- **寓意**：[说明名字的含义]
- **出处**：[诗词典故或文化来源]
- **评析**：[文化内涵评价]

**3. 音韵美感：XX / 20 分**
- **读音**：[拼音和声调]
- **评析**：[音韵评价，是否有谐音问题]

**4. 字形结构：XX / 15 分**
- **笔画**：[总笔画数，各字笔画]
- **评析**：[字形美观度，书写难度]

**5. 性别特征：XX / 10 分**
- **评析**：[是否符合性别特征]

### 总体评价

[根据总分给出评级]
- 90-100分：优秀 ⭐⭐⭐⭐⭐
- 80-89分：良好 ⭐⭐⭐⭐
- 70-79分：中等 ⭐⭐⭐
- 60-69分：及格 ⭐⭐
- 60分以下：待改进 ⭐

### 改进建议

[如果得分不高，提供具体的改进建议]
- 五行方面：[建议]
- 文化内涵：[建议]
- 音韵方面：[建议]
- 字形方面：[建议]

### 替代建议

[如果评分较低，可以提供1-3个替代名字建议]
```

## 参考资源

- **scripts/bazi_calculator.py** - 计算八字和五行属性的Python脚本
- **references/naming_knowledge.md** - 五行理论、常用字、文化内涵、评分标准
- **references/name_examples.md** - 各种情况的取名示例（生成推荐）
- **references/name_evaluation_examples.md** - 名字评估详细示例（评估已有名字）

## 注意事项

1. **准确性**：八字计算基于公历时间，需要准确的出生时辰（精确到小时）
2. **平衡性**：不要过度强调单一五行，注重整体协调
3. **文化性**：名字应体现中华文化的美好寓意
4. **实用性**：避免生僻字和过于复杂的字
5. **个性化**：根据具体八字情况灵活调整，不要生搬硬套

## 典型使用场景

**生成推荐名字：**
- "帮我给刚出生的儿子取名，姓李，2026年1月27日上午10点出生"
- "女儿八字缺火，姓王，能推荐几个名字吗？"
- "根据我女儿的生辰八字给她取个有文化内涵的名字"
- "我儿子2025年12月出生，五行属什么，应该取什么名字？"

**评估已有名字：**
- "我儿子叫李瑞泽，八字是乙巳 己丑 辛丑 癸巳，这个名字怎么样？"
- "评估一下'王晓彤'这个名字，女孩，2026年1月15日14点出生"
- "长辈给孩子起了'张承轩'这个名字，帮我看看与八字匹配吗？"
- "我在考虑'陈诗涵'和'陈雅琪'两个名字，帮我评估哪个更好"
